names[[1]] <- xmlValue(forenameStruct[[f]])
}
print(names)
}
for(i in 1:length(fullnames)) {
surnameStruct <- xmlElementsByTagName(fullnames[[i]], "surname")
forenameStruct <- xmlElementsByTagName(fullnames[[i]], "forename")
for(f in 1:length(forenameStruct)){
names[[1]] <- xmlValue(forenameStruct[[f]])
}
print(head(names))
print(head(forenameStruct))
}
for(i in 1:length(fullnames)) {
surnameStruct <- xmlElementsByTagName(fullnames[[i]], "surname")
forenameStruct <- xmlElementsByTagName(fullnames[[i]], "forename")
for(f in 1:length(forenameStruct)){
names[[1]] <- xmlValue(forenameStruct[[f]])
}
}
print(head(names))
print(head(forenameStruct))
for(i in 1:length(fullnames)) {
surnameStruct <- xmlElementsByTagName(fullnames[[i]], "surname")
forenameStruct <- xmlElementsByTagName(fullnames[[i]], "forename")
for(f in 1:length(forenameStruct)){
names[[1]] <- xmlValue(forenameStruct[[1]])
}
}
print(head(names))
print(head(forenameStruct))
df <- data.frame(matrix(unlist(names), nrow=132, byrow=T),stringsAsFactors=FALSE)
View(df)
for(i in 1:length(fullnames)) {
surnameStruct <- xmlElementsByTagName(fullnames[[i]], "surname")
forenameStruct <- xmlElementsByTagName(fullnames[[i]], "forename")
for(f in 1:length(forenameStruct)){
names[[1]] <- xmlValue(forenameStruct[[i]])
}
}
print(head(names))
print(head(forenameStruct))
df <- data.frame(matrix(unlist(names), nrow=132, byrow=T),stringsAsFactors=FALSE)
for(i in 1:length(fullnames)) {
surnameStruct <- xmlElementsByTagName(fullnames[[i]], "surname")
forenameStruct <- xmlElementsByTagName(fullnames[[i]], "forename")
for(f in 1:length(forenameStruct)){
names[[i]] <- xmlValue(forenameStruct[[i]])
}
}
print(head(names))
print(head(forenameStruct))
df <- data.frame(matrix(unlist(names), nrow=132, byrow=T),stringsAsFactors=FALSE)
View(df)
for(i in 1:length(fullnames)) {
surnameStruct <- xmlElementsByTagName(fullnames[[i]], "surname")
forenameStruct <- xmlElementsByTagName(fullnames[[i]], "forename")
for(f in 1:length(forenameStruct)){
names[[i]] <- xmlValue(forenameStruct[[i]])
}
print(head(names))
print(head(forenameStruct))
}
for(i in 1:length(fullnames)) {
surnameStruct <- xmlElementsByTagName(fullnames[[i]], "surname")
forenameStruct <- xmlElementsByTagName(fullnames[[i]], "forename")
for(f in 1:length(forenameStruct)){
names[[1]] <- xmlValue(forenameStruct[[i]])
}
print(head(names))
print(head(forenameStruct))
}
for(i in 1:length(fullnames)) {
surnameStruct <- xmlElementsByTagName(fullnames[[i]], "surname")
forenameStruct <- xmlElementsByTagName(fullnames[[i]], "forename")
for(f in 1:length(surnameStruct)){
names[[1]] <- xmlValue(surnameStruct[[i]])
}
print(head(names))
print(head(surnameStruct))
}
for(i in 1:length(fullnames)) {
surnameStruct <- xmlElementsByTagName(fullnames[[i]], "surname")
forenameStruct <- xmlElementsByTagName(fullnames[[i]], "forename")
for(f in 1:length(surnameStruct)){
names[[f]] <- xmlValue(surnameStruct[[f]])
}
print(head(names))
print(head(surnameStruct))
}
for(i in 1:length(fullnames)) {
surnameStruct <- xmlElementsByTagName(fullnames[[i]], "surname")
forenameStruct <- xmlElementsByTagName(fullnames[[i]], "forename")
for(f in 1:length(surnameStruct)){
names[[f]] <- xmlValue(surnameStruct[[1]])
}
print(head(names))
print(head(surnameStruct))
}
for(i in 1:length(fullnames)) {
surnameStruct <- xmlElementsByTagName(fullnames[[i]], "surname")
forenameStruct <- xmlElementsByTagName(fullnames[[i]], "forename")
for(f in 1:length(surnameStruct)){
names[[f]] <- xmlValue(surnameStruct[[1]])
}
print(head(names))
print(head(surnameStruct))
}
for(i in 1:length(fullnames)) {
surnameStruct <- xmlElementsByTagName(fullnames[[i]], "surname")
forenameStruct <- xmlElementsByTagName(fullnames[[i]], "forename")
for(f in 1:length(surnameStruct)){
names[f] <- xmlValue(surnameStruct[f])
}
print(head(names))
print(head(surnameStruct))
}
fullnames <- getNodeSet(data, "/tei:TEI//tei:persName", namespaces = c(tei = "http://www.tei-c.org/ns/1.0"))
library(XML)
data <- xmlTreeParse("~/Downloads/MA_Sample_20160508.xml", useInternalNodes = TRUE)
fullnames <- getNodeSet(data, "/tei:TEI//tei:persName", namespaces = c(tei = "http://www.tei-c.org/ns/1.0"))
surname.test <- xmlElementsByTagName(fullnames[[1]], "surname")
surname.value.test <- xmlValue(surname.test[[1]])
surname.value.test
forename.test <- xmlValue(xmlElementsByTagName(fullnames[[1]], "forename"))
forename.value.test <- xmlValue(forename.test[[1]])
forename.value.test
library(XML)
data <- xmlTreeParse("~/Downloads/MA_Sample_20160508.xml", useInternalNodes = TRUE)
fullnames <- getNodeSet(data, "/tei:TEI//tei:persName", namespaces = c(tei = "http://www.tei-c.org/ns/1.0"))
surname.test <- xmlElementsByTagName(fullnames[[1]], "surname")
surname.value.test <- xmlValue(surname.test[[1]])
surname.value.test
forename.test <- xmlElementsByTagName(fullnames[[1]], "forename")
forename.value.test <- xmlValue(forename.test[[1]])
forename.value.test
names <- list()
for(i in 1:length(fullnames)) {
surnameStruct <- xmlElementsByTagName(fullnames[[i]], "surname")
forenameStruct <- xmlElementsByTagName(fullnames[[i]], "forename")
for(f in 1:length(surnameStruct)){
names[[f]] <- xmlValue(surnameStruct[[f]])
}
print(head(names))
print(head(surnameStruct))
}
df <- data.frame(matrix(unlist(names), nrow=132, byrow=T),stringsAsFactors=FALSE)
View(df)
for(i in 1:length(fullnames)) {
surnameStruct <- xmlElementsByTagName(fullnames[[i]], "surname")
forenameStruct <- xmlElementsByTagName(fullnames[[i]], "forename")
for(f in 1:length(surnameStruct)){
names[[f]] <- xmlValue(surnameStruct[[f]])
}
}
print(head(names))
print(head(surnameStruct))
df <- data.frame(matrix(unlist(names), nrow=132, byrow=T),stringsAsFactors=FALSE)
View(df)
for(i in 1:length(fullnames)) {
surnameStruct <- xmlElementsByTagName(fullnames[[i]], "surname")
forenameStruct <- xmlElementsByTagName(fullnames[[i]], "forename")
for(f in 1:length(surnameStruct)){
names[[f]] <- xmlValue(surnameStruct[[f]])[[1]]
}
}
for(i in 1:length(fullnames)) {
surnameStruct <- xmlElementsByTagName(fullnames[[i]], "surname")
forenameStruct <- xmlElementsByTagName(fullnames[[i]], "forename")
for(f in 1:length(surnameStruct)){
names[[f]] <- xmlValue(surnameStruct)[[1]]
}
}
for(i in 1:length(fullnames)) {
surnameStruct <- xmlElementsByTagName(fullnames[[i]], "surname")
forenameStruct <- xmlElementsByTagName(fullnames[[i]], "forename")
for(f in 1:length(surnameStruct)){
names[[f]] <- xmlValue(surnameStruct[[1]])[[f]]
}
}
library(XML)
data <- xmlTreeParse("~/Downloads/MA_Sample_20160508.xml", useInternalNodes = TRUE)
fullnames <- getNodeSet(data, "/tei:TEI//tei:persName", namespaces = c(tei = "http://www.tei-c.org/ns/1.0"))
surname.test <- xmlElementsByTagName(fullnames[[1]], "surname")
surname.value.test <- xmlValue(surname.test[[1]])
surname.value.test
for(i in 1:length(fullnames)) {
surnameStruct <- xmlElementsByTagName(fullnames[[i]], "surname")
forenameStruct <- xmlElementsByTagName(fullnames[[i]], "forename")
for(f in 1:length(surnameStruct)){
names[[1]] <- xmlValue(surnameStruct[[f]])
}
}
print(head(names))
print(names[1:10])
fullnames <- getNodeSet(data, "/tei:TEI//tei:persName", namespaces = c(tei = "http://www.tei-c.org/ns/1.0"))
fullnames
print(names[1:10])
for(i in 1:length(fullnames)) {
surnameStruct <- xmlElementsByTagName(fullnames[[i]], "surname")
forenameStruct <- xmlElementsByTagName(fullnames[[i]], "forename")
for(f in 1:length(surnameStruct)){
names[[f]] <- xmlValue(surnameStruct[[f]])
}
}
print(names[1:10])
for(i in 1:length(fullnames)) {
surnameStruct <- xmlElementsByTagName(fullnames[[i]], "surname")
forenameStruct <- xmlElementsByTagName(fullnames[[i]], "forename")
for(f in 1:length(surnameStruct)){
names[[f]] <- xmlValue(surnameStruct[[1]])
}
}
print(names[1:10])
print(head(surnameStruct))
print(surnameStruct[1:10])
ibrary(XML)
data <- xmlTreeParse("~/Downloads/MA_Sample_20160508.xml", useInternalNodes = TRUE)
fullnames <- getNodeSet(data, "/tei:TEI//tei:persName", namespaces = c(tei = "http://www.tei-c.org/ns/1.0"))
library(XML)
data <- xmlTreeParse("~/Downloads/MA_Sample_20160508.xml", useInternalNodes = TRUE)
fullnames <- getNodeSet(data, "/tei:TEI//tei:persName", namespaces = c(tei = "http://www.tei-c.org/ns/1.0"))
names <- list()
for(i in 1:length(fullnames)) {
surnameStruct <- xmlElementsByTagName(fullnames[[i]], "surname")
forenameStruct <- xmlElementsByTagName(fullnames[[i]], "forename")
for(f in 1:length(surnameStruct)){
names[[f]] <- xmlValue(surnameStruct[[1]])
}
}
print(surnameStruct[1:10])
class(fullnames)
library(XML)
data <- xmlTreeParse("~/Downloads/MA_Sample_20160508.xml", useInternalNodes = TRUE)
fullnames <- getNodeSet(data, "/tei:TEI//tei:persName", namespaces = c(tei = "http://www.tei-c.org/ns/1.0"))
element_cnt <-length(data)
strings<-paste(sapply(data, function(x) { xmlValue(x) }),collapse="|")
xmlDoc <- xmlParse(data, useInternalNode=TRUE)
fullnames <- xmlToDataFrame(getNodeSet(xmlDoc,"/tei:TEI//tei:persName"))
xmlSApply(fullnames, xmlValue)
names <- xmlSApply(fullnames, xmlValue)
names
for(i in 1:length(fullnames)) {
surnameStruct <- xmlElementsByTagName(fullnames[[i]], "surname")
forenameStruct <- xmlElementsByTagName(fullnames[[i]], "forename")
forenames <- xmlSApply(forenameStruct, xmlValue)
surnames <- xmlSApply(surnameStruct, xmlValue)
}
surname.test <- xmlElementsByTagName(fullnames[[1]], "surname")
surname.test
forenames <- getNodeSet(data, "/tei:TEI//tei:persName//tei:forename", namespaces = c(tei = "http://www.tei-c.org/ns/1.0"))
forenameStruct <- getNodeSet(data, "/tei:TEI//tei:persName//tei:forename", namespaces = c(tei = "http://www.tei-c.org/ns/1.0"))
forenames <- xmlSApply(forenameStruct, xmlValue)
forenames
fullnames <- getNodeSet(data, "/tei:TEI//tei:persName", namespaces = c(tei = "http://www.tei-c.org/ns/1.0"))
forenameStruct <- getNodeSet(data, "/tei:TEI//tei:persName//tei:forename", namespaces = c(tei = "http://www.tei-c.org/ns/1.0"))
surnameStruct <- getNodeSet(data, "/tei:TEI//tei:persName//tei:surname", namespaces = c(tei = "http://www.tei-c.org/ns/1.0"))
forenames <- xmlSApply(forenameStruct, xmlValue)
surnames <- xmlSApply(surnameStruct, xmlValue)
forenames
surnames <- xmlSApply(surnameStruct, xmlValue)
surnames
forenames <- xmlSApply(forenameStruct[[2]], xmlValue)
forenames
library(XML)
data <- xmlTreeParse("~/Downloads/MA_Sample_20160508.xml", useInternalNodes = TRUE)
fullnames <- getNodeSet(data, "/tei:TEI//tei:persName", namespaces = c(tei = "http://www.tei-c.org/ns/1.0"))
forenameStruct <- getNodeSet(data, "/tei:TEI//tei:persName//tei:forename", namespaces = c(tei = "http://www.tei-c.org/ns/1.0"))
surnameStruct <- getNodeSet(data, "/tei:TEI//tei:persName//tei:surname", namespaces = c(tei = "http://www.tei-c.org/ns/1.0"))
surnameStruct
forenames <- xmlSApply(forenameStruct[[2]], xmlValue)
surnames <- xmlSApply(surnameStruct, xmlValue)
forenames
surnames
forenames <- xmlSApply(forenameStruct, xmlValue)
forenames
text <- ("~/Downloads/MA_Sample_20160508.xml")
library(plyr)
ldply(xmlToList(text), data.frame)
df <- ldply(xmlToList(text), data.frame)
df
length(data)
data <- xmlTreeParse("~/Downloads/MA_Sample_20160508.xml", useInternalNodes = TRUE)
data
personQualities <- getNodeSet(data, "/tei:TEI//tei:listPerson", namespaces = c(tei = "http://www.tei-c.org/ns/1.0"))
personQualities
listPersonStruct <- getNodeSet(data, "/tei:TEI//tei:listPerson", namespaces = c(tei = "http://www.tei-c.org/ns/1.0"))
element_cnt <-length(listPersonStruct))
element_cnt <-length(listPersonStruct)
element_cnt
strings<-paste(sapply(ns, function(x) { xmlValue(x) }),collapse="|")
strings<-paste(sapply(listPersonStruct, function(x) { xmlValue(x) }),collapse="|")
strings
listPersonStruct[[2]]
listPersonStruct
personStruct <- getNodeSet(data, "/tei:TEI//tei:person", namespaces = c(tei = "http://www.tei-c.org/ns/1.0"))
personStruct
element_cnt <-length(personStruct)
strings<-paste(sapply(personStruct, function(x) { xmlValue(x) }),collapse="|")
strings
strings<-paste(lapply(personStruct, function(x) { xmlValue(x) }),collapse="|")
strings
strings<-lapply(personStruct, function(x) { xmlValue(x) })
strings
strings<-lapply(personStruct, function(x) { xmlValue(x) })
strings
personStruct <- getNodeSet(data, "/tei:TEI//tei:person", namespaces = c(tei = "http://www.tei-c.org/ns/1.0"))
for(i in 1:length(personStruct)) {
print(i)}
for(i in 1:length(personStruct)) {
print(personStruct[i])}
library(XML)
data <- xmlTreeParse("~/Downloads/MA_Sample_20160508.xml", useInternalNodes = TRUE)
personStruct <- getNodeSet(data, "/tei:TEI//tei:person", namespaces = c(tei = "http://www.tei-c.org/ns/1.0"))
for(i in 1:length(personStruct)) {
print(personStruct[i])
}
for(i in 1:length(personStruct)) {
print(xmlElementsByTagName(personStruct[i], "surname"))
}
for(i in 1:length(personStruct)) {
print(xmlElementsByTagName(personStruct[[i]], "surname"))
}
for(i in 1:length(personStruct)) {
print(xmlElementsByTagName(i, "surname"))
}
for(i in 1:length(personStruct)) {
print(xmlElementsByTagName(personStruct[[i]], "surname"))
}
for(i in 1:length(personStruct)) {
print(xmlValue(personStruct[[1]]))
}
for(i in 1:length(personStruct)) {
print(xmlValue(personStruct[[i]]))
}
personStruct
sapply(
1:length(personStruct)
,function(i) {
getNodeSet(personStruct[[i]],"tei:forename")
}
)
sapply(
1:length(personStruct)
,function(i) {
getNodeSet(personStruct[[i]],"forename")
}
)
for(i in 1:length(personStruct)) {
print(xmlSApply(personStruct[[i]], xmlValue))
}
for(i in 1:length(personStruct)) {
values <- xmlSApply(personStruct[[i]], xmlValue)
}
values
for(i in 1:length(personStruct)) {
values[[i]] <- xmlSApply(personStruct[[i]], xmlValue)
}
class(values)
for(i in 1:length(personStruct)) {
values[i] <- xmlSApply(personStruct[[i]], xmlValue)
}
warnings()
personStruct <- getNodeSet(data, "/tei:TEI//tei:person", namespaces = c(tei = "http://www.tei-c.org/ns/1.0"))
values <- list()
for(i in 1:length(personStruct)) {
names <- paste('Person: ', i)
values[[names]] <- xmlSApply(personStruct[[i]], xmlValue)
}
values
df <- data.frame(matrix(unlist(values), byrow=T),stringsAsFactors=FALSE)
View(df)
class(values)
for(i in 1:length(personStruct)) {
names <- paste('Person: ', i)
values[[names,]] <- xmlSApply(personStruct[[i]], xmlValue)
}
values <- matrix(ncol=variables, nrow=iterations)
values <- matrix()
View(values)
for(i in 1:length(personStruct)) {
names <- paste('Person: ', i)
values[[names,]] <- xmlSApply(personStruct[[i]], xmlValue)
}
for(i in 1:length(personStruct)) {
names <- paste('Person: ', i)
values[names,] <- xmlSApply(personStruct[[i]], xmlValue)
}
for(i in 1:length(personStruct)) {
values[i,] <- xmlSApply(personStruct[[i]], xmlValue)
}
for(i in 1:length(personStruct)) {
values[i] <- xmlSApply(personStruct[[i]], xmlValue)
}
warnings()
for(i in 1:length(personStruct)) {
values[[i]] <- xmlSApply(personStruct[[i]], xmlValue)
}
for(i in 1:length(personStruct)) {
values[[i,,]] <- xmlSApply(personStruct[[i]], xmlValue)
}
for(i in 1:length(personStruct)) {
values[[i,]] <- xmlValue(xmlElementsByTagName(fullnames[[i]], "forename"))
}
for(i in 1:length(personStruct)) {
values[[i,]] <- xmlValue(xmlElementsByTagName(personStruct[[i]], "forename"))
}
for(i in 1:length(personStruct)) {
forenames <- xmlElementsByTagName(personStruct[[i]], "forename")
}
forenames <- list()
for(i in 1:length(personStruct)) {
forenames <- xmlElementsByTagName(personStruct[[i]], "forename")
}
for(i in 1:length(personStruct)) {
forenames[[i]] <- xmlElementsByTagName(personStruct[[i]], "forename")
}
for(i in 1:length(personStruct)) {
forenames[[i]] <- xmlValue(xmlElementsByTagName(personStruct[[i]], "forename"))
}
for(i in 1:length(personStruct)) {
forenames[[i]] <- xpathSApply(personStruct, "//event", function(x) c(xmlValue(x), xmlAttrs(x)[["type"]]))
}
for(i in 1:length(personStruct)) {
forenames[[i]] <- xpathSApply(personStruct, "event", function(x) c(xmlValue(x), xmlAttrs(x)[["type"]]))
}
personStruct[[1]]
personStruct[[1]][2]
xmlElementsByTagName(personStruct[[1]], "forename")
xmlValue(xmlElementsByTagName(personStruct[[1]], "forename"))
xmlElementsByTagName(personStruct[[1]], "forename")
data <- xmlTreeParse("~/Downloads/MA_Sample_20160508.xml", useInternalNodes = TRUE)
fullnames <- getNodeSet(data, "/tei:TEI//tei:persName", namespaces = c(tei = "http://www.tei-c.org/ns/1.0"))
surname.test <- xmlElementsByTagName(fullnames[[1]], "surname")
surname.test
xmlElementsByTagName(personStruct[[1]], "persName")
xmlElementsByTagName(personStruct[[1]][1], "persName")
xmlValue(xmlElementsByTagName(personStruct[[1]], "persName"))
xmlValue(xmlElementsByTagName(personStruct[[1]], "persName"), recursive = TRUE)
xmlValue(xmlElementsByTagName(personStruct[[1]], "persName"), ignoreComments = TRUE, recursive = TRUE)
xpathApply(personStruct[[1]], "//persName/forename")
xpathApply(xmlRoot(personStruct), "//persName", xmlValue)
xpathApply(personStruct[[1]], "//persName/forename")
xpathApply(personStruct[[1]], "//persName")
xpathApply(personStruct[[1]], "/persName")
xmlElementsByTagName(personStruct[[1]], "forename")
xmlElementsByTagName(personStruct[[1]], "persName")
forename <- xmlElementsByTagName(persName[[1]], "forename")
class(persName)
persName <- xmlElementsByTagName(personStruct[[1]], "persName")
class(persName)
persName
class(surname.test)
forename <- xmlValue(surname.test[[2]])
forename <- xmlValue(persName[[2]])
forename <- xmlValue(persName[[1]])
surname.test <- xmlElementsByTagName(fullnames[[1]], "surname")
surname.value.test <- xmlValue(surname.test[[1]])
surname.value.test
persName <- xmlElementsByTagName(personStruct[[1]], "persName/surname")
persName
forename <- xmlValue(persName[[1]])
persName <- xmlElementsByTagName(personStruct[[1]], "persName")
persName
persName <- xmlElementsByTagName(personStruct[[1]], "persName", recursive = TRUE)
persName
persName <- xmlElementsByTagName(personStruct[[1]], "persName/surname", recursive = TRUE)
persName
persName <- xmlElementsByTagName(personStruct[[1]], "surname", recursive = TRUE)
persName
forename <- xmlValue(persName[[1]])
forename
matrix <- NULL
library(XML)
data <- xmlTreeParse("~/Downloads/MA_Sample_20160508.xml", useInternalNodes = TRUE)
xmlDoc <- xmlParse(data, useInternalNode=TRUE)
fullnames <- xmlToDataFrame(getNodeSet(xmlDoc,"/tei:TEI//tei:persName"))
a<-getNodeSet(doc,"//tei:person",namespaces=ns);
b<-lapply(a,function(x){
subDoc<-xmlDoc(x);
first<-xpathApply(x,"tei:persName/tei:surname",namespaces=ns, xmlValue);
last<-xpathApply(x,"tei:persName/tei:forename",namespaces=ns, xmlValue);
event<-xpathApply(x,"tei:event/tei:label",namespaces=ns, xmlValue);
cbind(first,last,event);
})
library(XML)
data <- xmlTreeParse("~/Downloads/MA_Sample_20160508.xml", useInternalNodes = TRUE)
ns <- c(tei = "http://www.tei-c.org/ns/1.0")
xmlDoc <- xmlParse(data, useInternalNode=TRUE)
shiny::runApp('Documents/IU/CyberDH/Text_Analysis/Shiny/CoOcurrence')
runApp('Documents/IU/CyberDH/Text_Analysis/Shiny/CoOcurrence')
library(tm)
library(RWeka)
#Set the working directory
setwd("~/Documents/IU/CyberDH/Text_Analysis/data/")
#Read in the text
#text_raw<-scan("Hamlet.txt", what="character", sep="\n")
#Create a corpus
corpus <- Corpus(DirSource("shakespeareFolger"))
#Clean the corpus
corpus <- tm_map(corpus, content_transformer(tolower))
corpus <- tm_map(corpus, removeWords, stopwords("SMART"))
corpus <- tm_map(corpus, removeWords, c("tis", "hath"))
corpus <- tm_map(corpus, removePunctuation)
corpus <- tm_map(corpus, stripWhitespace)
#corpus <- tm_map(corpus, PlainTextDocument)
dtm <- DocumentTermMatrix(corpus)
freq <- sort(colSums(as.matrix(dtm)), decreasing = TRUE)
assoc <- findAssocs(dtm, "father", .6)
assoc
class(assoc)
runApp('~/Documents/IU/CyberDH/Text_Analysis/Shiny/CoOcurrence')
